<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit item</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <%= render partial: 'to_do_items/form', locals: { to_do_item: ToDoItem.new, async: true } %>
      </div>
      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
    </div>
  </div>
</div>

<script>
    $( ".todo_edit" ).click(function() {
        var id = $(this).data("id");
        fill_form(id);
    });

    function fill_form(todo_id) {
        var action = '/to_do_items/' + todo_id;
        $("#todo_form").attr('action', action);
        $("#to_do_item_content").val(gon.todo[todo_id].content);
        $("#to_do_item_description").val(gon.todo[todo_id].description);
        $("#to_do_item_valid_from").val(gon.todo[todo_id].valid_from);
        $("#to_do_item_deadline").val(gon.todo[todo_id].deadline);
        $("#to_do_item_done").val(gon.todo[todo_id].done);
        $("#to_do_item_removed").val(gon.todo[todo_id].removed);
    }
</script>